<!DOCTYPE html>
<html>
<head>
	<title>My Search</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>

<style type="text/css">
body, html, iframe {
  width: 100%; 
  height: 100%; 
  border: none; 
  padding: 0; 
  margin: 0
}
html {
	height: 100%;
}
body {
	/*height: 97vh;*/
	height: 98%;
}
iframe {
/*	border: 0;
	margin: 0;
*/}
</style>

<script type="text/javascript">
	function capitalizeFirstLetter(string) {
	  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
	}
	function engineUrl(engine) {
		return "http://www." + engine + ".com/search";
	}
	function setSearch(engine) {
		console.log('Change search engine to ', engine);
		searchEngine = engine;
    searchForm.action = searchUrl = engineUrl(engine);
    engineDisplay.textContent = capitalizeFirstLetter(engine);          
		return search();
	}
	function search() {
		if (searchEngine == 'google') {
			searchForm.target = '_blank';
			searchIframe.style.display = 'none';
		} else {
			searchForm.target = 'iframe';
			// searchIframe.src = searchUrl;
			searchIframe.style.display = 'block';
			// searchIframe.style.height = document.body.clientHeight - searchIframe.offsetTop + 'px';
		}
		return searchForm.submit();					
	}
</script>

<main style="margin-left: 6px">

<form 
	onsubmit="search()" 
>
	<label for="q">
		Web Search:
	</label>
	<input 
		style="width: 80%"
		type="search" 
		name="q" 
		placeholder="Type some text here" 
		autofocus="" 
	>	
</form>

<span style="display: inline-block;">
	<button 
		onclick="setSearch('google')"
	>
		Google!
	</button>
	<button 
		onclick="setSearch('bing')"
	>
		Bing!
	</button>		
	<span>
		Default Engine: 
		<span id="engine" style="font-weight: bold;">
			Google
		</span>
	</span>
</span>
	
</main>

<iframe
	name="iframe"
	style="display: none"
>
  There would be Bing Search here but your browser does not support inline frames.
</iframe>

<script type="text/javascript">
	// var searchEngine = 'google';
	var searchEngine = 'bing';

 	var engineDisplay = document.getElementById('engine');
	engineDisplay.textContent = capitalizeFirstLetter(searchEngine);

	var searchIframe = document.getElementsByTagName('iframe')[0];
	var searchForm = document.forms[0];
	searchForm.target = '_blank';
	searchForm.action = searchUrl = engineUrl(searchEngine);
</script>

</body>
</html>
