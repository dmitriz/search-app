<!DOCTYPE html>
<html>
<head>
	<title>My Search</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>

<style type="text/css">
	body {
		height: 100vw;
	}
</style>

<script type="text/javascript">
	function capitalizeFirstLetter(string) {
	  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
	}
	function setSearch(engine) {
		console.log('Change search engine to ', engine);
		searchEngine = engine;
    searchForm.action = searchUrl = "http://www." + engine + ".com/search";
    engineDisplay.innerHTML = capitalizeFirstLetter(engine);          
		return search();
	}
	function search() {
		if (searchEngine == 'google') {
			searchForm.target = '_blank';
			searchIframe.style.display = 'none';
		} else {
			searchForm.target = 'sf';
			// searchIframe.src = searchUrl;
			searchIframe.style.display = 'block';
			searchIframe.style.height = document.body.clientHeight - searchIframe.offsetTop + 'px';
		}
		return searchForm.submit();					
	}
</script>

<form 
	onsubmit="search()" 
>
	<label for="q">
		Web Search:
	</label>
	<input 
		style="width: 80%"
		type="search" 
		name="q" 
		placeholder="Type some text here" 
		autofocus="" 
	>	
</form>

<span style="display: inline-block;">
	<button 
		onclick="setSearch('google')"
	>
		Google!
	</button>
	<button 
		onclick="setSearch('bing')"
	>
		Bing!
	</button>		
	<span>
		Default Engine: 
		<span id="engine" style="font-weight: bold;">
			Google
		</span>
	</span>
</span>

<iframe
	id = "searchIframe"
	name="sf"
	style="display: none; width: 100%;" 
>
  There would be Bing Search here but your browser does not support inline frames.
</iframe>

<script type="text/javascript">
	var engineDisplay = document.getElementById('engine');
	var searchIframe = document.getElementById('searchIframe');

	var searchForm = document.forms[0];
	var searchEngine = 'google';
	searchForm.target = '_blank';
	searchForm.action = searchUrl = "http://www.google.com/search";
</script>

</body>
</html>
